<!DOCTYPE html>
<html>

<head>
  <title>Podstawy d3</title>
  <meta charset="utf-8">
  <script src='https://d3js.org/d3.v4.min.js'></script>
</head>

<body>

  <h1>Wyjsciowka 6 - Paweł Rzepiński</h1>
  <p>6. Narysuj wykres x-y dla tablicy [[1,3,"red"], [2,2,"blue"], [2,3,"red"], [4,4,"red"]]. Kolorem zaznacz, czy punkt
    ma wartość red lub blue. Dodaj checkbox, który nadaje wszystkim punktom kolor czarny.</p>
  <input type="checkbox" id="d3allblack">
  </p>

  <script>
    d3.select('#d3checkbox').on('change', function () {
      if (d3.select('#d3checkbox').property('checked')) {
        d3.selectAll('p').style('color', 'red');
      } else {
        d3.selectAll('p').style('color', 'initial');
      }
    });

    d3.select('#d3allblack').on('change', function () {
      if (d3.select('#d3allblack').property('checked')) {
        d3.selectAll('circle').style('fill', 'black');
      } else {
        d3.selectAll('circle').style('fill', function (d) { return d[2] });
      }
    });

    var width = 500;
    var height = 500;
    var n = 20;

    var circles_data = [[1, 3, "red"], [2, 2, "blue"], [2, 3, "red"], [4, 4, "red"]]

    d3.select('body')
      .append('svg')
      .attr('height', height)
      .attr('width', width)
      .selectAll("circle")
      .data(circles_data)
      .enter()
      .append("circle")
      .attr("r", 20)
      .attr("cx", function (d) { return d[0] * 100; })
      .attr("cy", function (d) { return d[1] * 100; })
      .style("fill", function (d) { return d[2] });

  </script>

</body>

</html>